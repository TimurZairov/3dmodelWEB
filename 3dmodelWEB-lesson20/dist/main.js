(()=>{"use strict";document.querySelectorAll(".command__photo").forEach((e=>{const t=e.src;e.addEventListener("mouseenter",(e=>{e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(e=>{e.target.src=t}))})),function(e){let t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function r(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60);return{hours:Math.floor(t/60/60),minutes:n,seconds:o,getTimeRamaining:r}}function c(e){return e>=0&&e<10?`0${e}`:e}function l(){let e=r();t.textContent=c(e.hours),o.textContent=c(e.minutes),n.textContent=c(e.seconds),(e.hours<=0||e.minutes<=0||e.seconds<=0)&&(clearInterval(l),t.textContent="00",o.textContent="00",n.textContent="00")}l(),setInterval(l,1e3)}("28 march 2021"),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu");t.querySelectorAll("ul>li"),e.addEventListener("click",(()=>{t.classList.toggle("active-menu")})),t.addEventListener("click",(e=>{const o=e.target;(o.classList.contains("close-btn")||"A"===o.tagName)&&t.classList.toggle("active-menu"),o.tagName}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content");o.style.transform="translateY(-500px)",t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block";let t=-100;window.screen.width>768?setInterval((()=>{t<50&&(t++,o.style.transform=`translateY(${t}px)`)}),1):(e.style.display="block",o.style.transform="")}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,r)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(r)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-dots")),o=document.querySelector(".portfolio-content");let n,r=0;e.forEach((()=>{let e=document.createElement("li");e.classList.add("dot"),t.append(e)}));let c=t.querySelectorAll(".dot");const l=(e,t,o)=>{e[t].classList.remove(o)},a=(e,t,o)=>{e[t].classList.add(o)},s=()=>{l(e,r,"portfolio-item-active"),l(c,r,"dot-active"),r++,r>=e.length&&(r=0),a(e,r,"portfolio-item-active"),a(c,r,"dot-active")};s();const u=(e=3e3)=>{n=setInterval(s,e)};u(1500),o.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(l(e,r,"portfolio-item-active"),l(c,r,"dot-active"),o.matches("#arrow-right")?r++:o.matches("#arrow-left")?r--:o.matches(".dot")&&c.forEach(((e,t)=>{e===o&&(r=t)})),r>=e.length&&(r=0),r<0&&(r=e.length-1),a(e,r,"portfolio-item-active"),a(c,r,"dot-active"))})),o.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),o.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()}))})(),(()=>{const e=document.querySelectorAll(".calc-item"),t=document.querySelectorAll(".form-phone");e.forEach((e=>{e.addEventListener("input",(()=>{e.classList.contains("calc-type")||(e.value=e.value.replace(/\D/g,""))}))})),t.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[A-Za-zА-Яа-я\*\!\@\"\№\;\%\:\?\=\()\#\$\%\^\&\_\'\/\\]/g,"")}))}))})(),(()=>{const e=document.querySelector(".top-form"),t=document.querySelector(".mess");e.addEventListener("input",(()=>{e.value=e.value.replace(/[0-9A-Za-z\*\!\@\"\№\;\%\:\?\+\=\()\#\$\%\^\&\_\'\/\\]/g,"")})),t.addEventListener("input",(()=>{t.value=t.value.replace(/[0-9A-Za-z\*\!\@\"\№\;\%\:\?\+\=\()\#\$\%\^\&\_\'\/\\]/g,"")}))})(),document.querySelectorAll(".form-email").forEach((e=>{e.addEventListener("input",(()=>(e.value=e.value.replace(/[^@A-Za-z\-\_\.\!\~\*\']/g,""),e.value.replace(/w+@\w+\.\w{3}/g,""))))})),(()=>{const e="Что то пошло не так...",t="Загрузка...",o="Спасибо! Мы с вами свяжемся!";(()=>{const r=document.getElementById("form1"),c=document.querySelector(".form-name"),l=document.querySelector(".form-email"),a=document.querySelector(".form-phone"),s=document.createElement("div");s.style.cssText="font-size: 2rem;",r.addEventListener("submit",(u=>{u.preventDefault(),r.appendChild(s),s.textContent=t;const d=new FormData(r);let i={};d.forEach(((e,t)=>{i[t]=e})),c.value="",l.value="",a.value="",n(i).then((e=>{if(200!==e.status)throw new Error("status network not 200");s.textContent=o})).catch((t=>{s.textContent=e,console.log(t)}))}))})(),(()=>{const r=document.getElementById("form2"),c=document.getElementById("form2-name"),l=document.getElementById("form2-email"),a=document.getElementById("form2-phone"),s=document.getElementById("form2-message"),u=document.createElement("div");u.style.cssText="font-size: 2rem;",r.addEventListener("submit",(d=>{d.preventDefault(),r.appendChild(u),u.textContent=t;const i=new FormData(r);let m={};i.forEach(((e,t)=>{m[t]=e})),console.log(c.value),c.value="",l.value="",a.value="",s.value="",n(m).then((e=>{if(200!==e.status)throw new Error("status network not 200");u.textContent=o})).catch((t=>{u.textContent=e,console.log(t)}))}))})(),(()=>{const t=document.getElementById("form3"),r=document.querySelector(".popup"),c=document.createElement("div");c.style.cssText="font-size: 2rem;",t.addEventListener("submit",(l=>{l.preventDefault(),r.style.display="none";const a=new FormData(t);let s={};a.forEach(((e,t)=>{s[t]=e})),n(s).then((e=>{if(200!==e.status)throw new Error("status network not 200");c.textContent=o})).catch((t=>{c.textContent=e,console.log(t)}))}))})();const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();